<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ace Clothing</title>

<!-- Playboi Carti "I AM Music" style font -->
<link href="https://fonts.googleapis.com/css2?family=New+Rocker&display=swap" rel="stylesheet">

<style>
/* --- General --- */
body {
  margin:0;
  font-family:Arial,sans-serif;
  background:#0d0d0d;
  color:#fff;
  overflow-x:hidden;
}
body::before {
  content:"ACE CLOTHING";
  position:fixed;
  top:40%;
  left:10%;
  font-size:8rem;
  color:rgba(255,255,255,0.05);
  transform:rotate(-30deg);
  pointer-events:none;
  z-index:0;
}

/* --- Header --- */
header {
  background:#111;
  padding:20px;
  display:flex;
  flex-direction:column;
  align-items:center;
  position:sticky;
  top:0;
  z-index:10;
}
header img.logo {width:80px; height:auto; margin-bottom:10px;}
header h1 {
  margin:0;
  font-size:2rem;
  letter-spacing:2px;
  font-family: 'New Rocker', cursive;
  position:relative;
  z-index:10;
  transition: opacity 0.4s ease;
}

/* Buttons top corners */
.header-buttons {
  position:absolute;
  top:20px;
  left:0;
  right:0;
  display:flex;
  justify-content:space-between;
  padding:0 20px;
}
.header-buttons button {background:none; border:none; cursor:pointer; transition:.3s;}
#cartBtn svg {
  width:28px; height:28px; fill:#f0a500; transition:.3s;
  filter: drop-shadow(0 0 2px #f0a500);
}
#cartBtn:hover svg {
  fill:#ffcc29;
  filter: drop-shadow(0 0 5px #f0a500) drop-shadow(0 0 10px #ffcc29);
  transform:scale(1.1);
}

/* Left Sliding Menu */
#sideMenu {
  position: fixed; top: 0; left: 0;
  width: 250px; height: 100%;
  background: #111; color: #fff;
  z-index: 101; padding: 20px;
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}
#sideMenu.open {transform: translateX(0);}
#sideMenu nav a, #sideMenu nav button {
  margin:10px 0; color:#fff; text-decoration:none;
  font-size:1.2rem; width:100%; text-align:left;
}
#sideMenu nav button {
  background:#f0a500; color:#111; border:none; border-radius:5px; padding:8px; cursor:pointer;
}
#sideMenu nav button:hover {background:#ffcc29;}

/* Hero */
.hero {position:relative; height:60vh; text-align:center; display:flex; align-items:center; justify-content:center; overflow:hidden;}
.hero-slides .slide {position:absolute; top:0; left:0; width:100%; height:100%; background-size:cover; background-position:center; opacity:0; transition:opacity 1s ease; z-index:1;}
.hero-slides .slide.active {opacity:1;}

/* Shop */
.shop {padding:30px 20px; display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:40px; position:relative; z-index:1;}
.product {background:#1a1a1a; padding:15px; text-align:center; border-radius:10px; transition:transform .3s,box-shadow .3s,opacity .3s;}
.product:hover {transform:scale(1.05);box-shadow:0 0 20px #f0a500;}
.product img {width:100%; height:320px; object-fit:cover; border-radius:8px;}
.product h3 {margin:10px 0 5px 0; font-family:'New Rocker', cursive;}
.product p {margin:5px 0; color:#f0a500; font-size:0.85rem;}
.product button {margin-top:10px; padding:10px 15px; background:#f0a500; color:#111; border:none; cursor:pointer; border-radius:5px; transition:.3s;}
.product button:hover {background:#ffcc29;}

/* Cart Panel */
.cart-panel {position:fixed; top:0; right:0; width:350px; max-width:90%; height:100%; background:#111; padding:20px; box-shadow:-5px 0 15px rgba(0,0,0,0.5); z-index:100; overflow-y:auto; display:none;}
.cart-panel.open {display:block;}
.cart-panel h2 {margin-top:0;letter-spacing:1px;}
.cart-item {display:flex; justify-content:space-between; margin:15px 0; font-size:.95rem;}
.cart-item button {background:#f0a500; border:none; padding:3px 7px; cursor:pointer; border-radius:3px; transition:.3s;}
.cart-item button:hover {background:#ffcc29;}
.cart-panel .close-cart {position:absolute; top:10px; right:10px; background:#f0a500; color:#111; border:none; padding:5px 10px; border-radius:5px; cursor:pointer; transition:.3s;}
.cart-panel .close-cart:hover {background:#ffcc29;}
.payment img {width:60px;margin:0 10px;}

/* Checkout Modal */
#checkoutModal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:100; align-items:center; justify-content:center;}
#checkoutModal div {background:#111; padding:30px; border-radius:10px; max-width:400px; width:90%; color:#fff;}
#checkoutModal input, #checkoutModal select {width:100%; margin-bottom:10px; padding:8px; border-radius:5px; border:none; background:#1a1a1a; color:#fff;}

/* Footer */
footer {padding:20px;background:#111;text-align:center;}
footer a {color:#f0a500;text-decoration:none;margin:0 10px;}
</style>
</head>
<body>

<header>
    <img src="{{ url_for('static', filename='images/ace_logo.svg') }}" alt="Ace Logo" class="logo">
    <h1 id="pageTitle">Ace Clothing</h1>
    <div class="header-buttons">
        <button id="menuBtn" onclick="toggleMenu()">
          <svg width="28" height="28" viewBox="0 0 100 80" fill="#f0a500">
            <rect width="100" height="10"></rect>
            <rect y="30" width="100" height="10"></rect>
            <rect y="60" width="100" height="10"></rect>
          </svg>
        </button>

        <button id="cartBtn" onclick="toggleCart()">
          <svg viewBox="0 0 24 24">
            <path d="M7 4h-2l-3 9h2l1-3h12l1 3h2l-3-9h-2l-1 3h-12l1-3zm1 13c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
        </button>
    </div>
</header>

<section class="shop" id="shop">
    <div class="product" data-category="Shirt">
        <img src="{{ url_for('static', filename='images/shirt.jpeg') }}">
        <h3>Signature Tee</h3><p>$40</p>
        <button onclick="flyToCart(this)">Add to Cart</button>
    </div>
    <div class="product" data-category="Shirt">
        <img src="{{ url_for('static', filename='images/jersey.jpeg') }}">
        <h3>Classic Jersey</h3><p>$55</p>
        <button onclick="flyToCart(this)">Add to Cart</button>
    </div>
    <div class="product" data-category="Trousers">
        <img src="{{ url_for('static', filename='images/pants.jpeg') }}">
        <h3>Street Cargo Pants</h3><p>$65</p>
        <button onclick="flyToCart(this)">Add to Cart</button>
    </div>
</section>

<section class="hero" id="home">
    <div class="hero-slides">
        <div class="slide active" style="background-image:url('{{ url_for('static', filename='images/hero1.jpg') }}');"></div>
        <div class="slide" style="background-image:url('{{ url_for('static', filename='images/hero2.jpg') }}');"></div>
        <div class="slide" style="background-image:url('{{ url_for('static', filename='images/hero3.jpg') }}');"></div>
    </div>
</section>

<div id="sideMenu">
  <button onclick="toggleMenu()">X</button>
  <nav>
    <a href="#home" onclick="toggleMenu()">Home</a>
    <a href="#shop" onclick="toggleMenu()">Shop</a>
    <h3 style="margin-top:20px;">Categories</h3>
    <button onclick="filterProducts('all')">All</button>
    <button onclick="filterProducts('Shirt')">Shirts</button>
    <button onclick="filterProducts('Shoes')">Shoes</button>
    <button onclick="filterProducts('Trousers')">Trousers</button>
  </nav>
</div>

<div class="cart-panel" id="cartPanel">
    <button class="close-cart" onclick="toggleCart()">X</button>
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
    <p>Total: $<span id="total">0</span></p>
    <button onclick="checkout()">Checkout</button>
    <div class="payment">
        <img src="{{ url_for('static', filename='images/mpesa.png') }}">
    </div>
</div>

<div id="checkoutModal">
    <div>
        <h3>Checkout</h3>
        <input type="text" placeholder="Full Name" id="fullName">
        <input type="text" placeholder="Phone Number" id="phoneNumber">
        <button onclick="simulateMpesaPayment()">Pay with M-Pesa</button>
        <button onclick="closeCheckout()">Cancel</button>
    </div>
</div>

<footer>
    Contact: 0757718220 | IG: <a href="https://instagram.com/not4.plot" target="_blank">@not4.plot</a>
</footer>

<script>
// --- Sliding Menu ---
function toggleMenu() { document.getElementById('sideMenu').classList.toggle('open'); }

// --- Hero Slider ---
let slideIndex = 0;
const slides = document.querySelectorAll('.hero-slides .slide');
function showSlides() {
    slides.forEach(s => s.classList.remove('active'));
    slides[slideIndex].classList.add('active');
    slideIndex = (slideIndex + 1) % slides.length;
}
setInterval(showSlides, 4000);

// --- Cart ---
let cart = [];
function toggleCart() { document.getElementById('cartPanel').classList.toggle('open'); }
function flyToCart(button){
    const product = button.closest('.product');
    const name = product.querySelector('h3').innerText;
    const price = parseInt(product.querySelector('p').innerText.replace('$',''));
    cart.push({name,price});
    updateCart();
    toggleCart();
}
function updateCart(){
    const cartItems = document.getElementById('cartItems');
    cartItems.innerHTML='';
    let total=0;
    cart.forEach((item,index)=>{
        total+=item.price;
        const div = document.createElement('div');
        div.classList.add('cart-item');
        div.innerHTML=`${item.name} - $${item.price} <button onclick="removeItem(${index})">X</button>`;
        cartItems.appendChild(div);
    });
    document.getElementById('total').innerText=total;
}
function removeItem(index){cart.splice(index,1);updateCart();}

// --- Checkout ---
function checkout(){document.getElementById('checkoutModal').style.display='flex';}
function closeCheckout(){document.getElementById('checkoutModal').style.display='none';}
function simulateMpesaPayment(){
    const name = document.getElementById('fullName').value;
    const phone = document.getElementById('phoneNumber').value;
    if(!name || !phone){ alert('Please enter your name and phone number'); return; }
    alert(`M-Pesa Payment Successful!\nName: ${name}\nPhone: ${phone}\nAmount: $${document.getElementById('total').innerText}`);
    cart=[];
    updateCart();
    closeCheckout();
}

// --- Filter Products ---
function filterProducts(category){
    const products = document.querySelectorAll('.product');
    products.forEach(p=>{
        if(category==='all'||p.dataset.category===category)p.style.display='block';
        else p.style.display='none';
    });
}

// --- Hide/Show Title on Scroll ---
let lastScroll = 0;
const title = document.getElementById('pageTitle');
window.addEventListener('scroll', () => {
  const current = window.pageYOffset;
  if (current > lastScroll) { title.style.opacity = "0"; }
  else { title.style.opacity = "1"; }
  lastScroll = current;
});
</script>
</body>
</html>
