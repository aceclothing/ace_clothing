<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ACE Clothing Brand</title>
<style>
  :root{
    --brand:#000;
    --accent:#ff4c4c;
    --gold:#f0b90b;
    --bg:#f4f4f4;
    --card:#fff;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Arial,Helvetica,sans-serif;
    background:var(--bg);
    color:#222;
  }
  header{
    background:var(--brand);
    color:#fff;
    text-align:center;
    padding:22px 16px;
  }
  nav{
    background:#222;
    display:flex;
    justify-content:center;
    gap:22px;
    padding:10px 12px;
  }
  nav a{
    color:#fff;
    text-decoration:none;
    font-weight:700;
  }
  nav a:hover{color:var(--accent)}
  .products{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px;
    padding:22px;
    max-width:1100px;
    margin:auto;
  }
  .product{
    background:var(--card);
    border-radius:10px;
    box-shadow:0 2px 8px rgba(0,0,0,.08);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    align-items:center;
    text-align:center;
    transition:transform .2s ease;
  }
  .product:hover{transform:translateY(-4px)}
  .product img{width:100%; aspect-ratio:1/1; object-fit:cover}
  .product .info{padding:12px 14px; width:100%}
  .price{color:var(--gold); font-weight:700; font-size:1.1rem}
  .product button{
    background:var(--brand);
    color:#fff;
    border:none;
    padding:10px 14px;
    border-radius:6px;
    cursor:pointer;
    margin:10px 0 14px;
  }
  .product button:hover{background:var(--accent)}

  /* Sliding Cart */
  .cart-btn{
    position:fixed;
    bottom:20px; right:20px;
    background:var(--accent);
    color:#fff;
    width:56px; height:56px;
    border:none; border-radius:50%;
    font-size:22px; cursor:pointer;
    box-shadow:0 6px 18px rgba(0,0,0,.25);
    z-index:1100;
  }
  .cart-btn:hover{background:#d83a3a}

  .cart-panel{
    position:fixed; top:0; right:-100%;
    width:360px; max-width:92vw; height:100%;
    background:#fff; box-shadow:-2px 0 14px rgba(0,0,0,.2);
    padding:18px; transition:right .3s ease-in-out;
    overflow-y:auto; z-index:1200;
  }
  .cart-panel.active{right:0}
  .cart-header{
    display:flex; justify-content:space-between; align-items:center;
    font-weight:800; font-size:18px; padding-bottom:10px;
    border-bottom:1px solid #eee;
  }
  .close-btn{
    background:none; border:none; font-size:22px; cursor:pointer;
  }
  .cart-items{margin:10px 0}
  .cart-item{
    display:flex; justify-content:space-between; gap:10px;
    padding:8px 0; border-bottom:1px solid #f0f0f0;
  }
  .cart-item-name{flex:1}
  .remove-btn{
    background:#e02020; color:#fff; border:none;
    padding:6px 10px; border-radius:6px; cursor:pointer;
  }
  .remove-btn:hover{background:#b41717}
  .total-row{
    display:flex; justify-content:space-between; align-items:center;
    font-weight:800; margin:10px 0 6px;
  }
  .payment-methods{
    margin-top:14px; padding:12px; background:#fafafa; border-radius:10px;
    border:1px solid #eee;
  }
  .payment-methods h4{margin:0 0 8px}
  .pay-icons{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
  .pay-icons a{display:inline-flex; align-items:center; justify-content:center; padding:6px; border-radius:8px; background:#fff; border:1px solid #eee}
  .pay-icons img{height:28px; width:auto; display:block}

  #contact{
    background:#fff; padding:22px; margin:22px; border-radius:10px;
    box-shadow:0 2px 8px rgba(0,0,0,.08); max-width:900px; margin-inline:auto;
  }
  footer{
    background:var(--brand); color:#fff; text-align:center; padding:12px;
  }

  /* Simple modal for M-Pesa phone input */
  .modal{
    position:fixed; inset:0; background:rgba(0,0,0,.5);
    display:none; align-items:center; justify-content:center; z-index:1300;
  }
  .modal.open{display:flex}
  .modal-card{
    background:#fff; padding:18px; border-radius:10px; width:320px; max-width:92vw;
    box-shadow:0 8px 24px rgba(0,0,0,.2);
  }
  .modal-card h3{margin:0 0 8px}
  .modal-card label{display:block; font-size:.9rem; margin:8px 0 4px}
  .modal-card input{
    width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;
  }
  .modal-actions{display:flex; gap:10px; justify-content:flex-end; margin-top:12px}
  .btn{padding:9px 12px; border:none; border-radius:8px; cursor:pointer}
  .btn.primary{background:var(--brand); color:#fff}
  .btn.primary:hover{background:var(--accent)}
  .btn.ghost{background:#f2f2f2}
</style>
</head>
<body>

<header>
  <h1>ACE Clothing</h1>
  <p>Style ‚Ä¢ Comfort ‚Ä¢ Confidence</p>
</header>

<nav>
  <a href="#">Home</a>
  <a href="#">Shop</a>
  <a href="#">New Arrivals</a>
  <a href="#contact">Contact</a>
</nav>

<section class="products">
  <div class="product">
    <img src="https://source.unsplash.com/600x600/?basketball,jersey" alt="Basketball Jersey">
    <div class="info">
      <h3>ACE Basketball Jersey</h3>
      <p class="price">$65</p>
      <button onclick="addToCart('ACE Basketball Jersey', 65)">Add to Cart</button>
    </div>
  </div>
  <div class="product">
    <img src="https://source.unsplash.com/600x600/?hoodie,clothing" alt="Hoodie">
    <div class="info">
      <h3>Black Hoodie</h3>
      <p class="price">$45</p>
      <button onclick="addToCart('Black Hoodie', 45)">Add to Cart</button>
    </div>
  </div>
  <div class="product">
    <img src="https://source.unsplash.com/600x600/?tshirt,clothing" alt="T-shirt">
    <div class="info">
      <h3>White T-shirt</h3>
      <p class="price">$25</p>
      <button onclick="addToCart('White T-shirt', 25)">Add to Cart</button>
    </div>
  </div>
  <div class="product">
    <img src="https://source.unsplash.com/600x600/?jeans,denim" alt="Jeans">
    <div class="info">
      <h3>Blue Denim Jeans</h3>
      <p class="price">$55</p>
      <button onclick="addToCart('Blue Denim Jeans', 55)">Add to Cart</button>
    </div>
  </div>
</section>

<section id="contact">
  <h2>Contact Us</h2>
  <p>üìû Phone: <strong>0757718220</strong></p>
  <p>üìß Email: <strong>info@aceclothing.com</strong></p>
  <p>üìç Location: Nairobi, Kenya</p>
</section>

<footer>
  <p>&copy; 2025 ACE Clothing Brand. All rights reserved.</p>
</footer>

<!-- Floating Cart Button -->
<button class="cart-btn" onclick="toggleCart()" aria-label="Open cart">üõí</button>

<!-- Sliding Cart Panel -->
<div class="cart-panel" id="cartPanel" aria-live="polite">
  <div class="cart-header">
    <span>Your Cart</span>
    <button class="close-btn" onclick="toggleCart()" aria-label="Close cart">‚úñ</button>
  </div>

  <div class="cart-items" id="cart-items"></div>

  <div class="total-row">
    <span>Total</span>
    <span>$<span id="cart-total">0.00</span></span>
  </div>

  <div class="payment-methods">
    <h4>Payment Methods</h4>
    <div class="pay-icons">
      <!-- M-Pesa (opens modal) -->
      <a href="javascript:void(0)" onclick="openMpesaModal()" title="Pay with M-Pesa">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/M-PESA_LOGO-01.svg" alt="M-Pesa">
      </a>
      <!-- Visa -->
      <a href="https://example.com/visa-checkout" target="_blank" rel="noopener" title="Visa Checkout">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png" alt="Visa">
      </a>
      <!-- MasterCard -->
      <a href="https://example.com/mastercard-checkout" target="_blank" rel="noopener" title="Mastercard Checkout">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png" alt="Mastercard">
      </a>
      <!-- PayPal -->
      <a href="https://www.sandbox.paypal.com/" target="_blank" rel="noopener" title="PayPal Sandbox">
        <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" alt="PayPal">
      </a>
    </div>
  </div>
</div>

<!-- M-Pesa Modal -->
<div class="modal" id="mpesaModal" role="dialog" aria-modal="true" aria-labelledby="mpesaTitle">
  <div class="modal-card">
    <h3 id="mpesaTitle">M-Pesa Payment</h3>
    <p>Total to pay: $<span id="mpesa-total">0.00</span></p>
    <label for="mpesaPhone">Phone number (07XXXXXXXX)</label>
    <input type="tel" id="mpesaPhone" placeholder="07XXXXXXXX" pattern="^0[0-9]{9}$" />
    <div class="modal-actions">
      <button class="btn ghost" onclick="closeMpesaModal()">Cancel</button>
      <button class="btn primary" onclick="simulateMpesa()">Pay</button>
    </div>
  </div>
</div>

<script>
  // ===== Cart State (with persistence) =====
  let cart = JSON.parse(localStorage.getItem('ace_cart') || '[]');
  let total = parseFloat(localStorage.getItem('ace_total') || '0');

  function saveCart(){
    localStorage.setItem('ace_cart', JSON.stringify(cart));
    localStorage.setItem('ace_total', total.toFixed(2));
  }

  function format(n){ return Number(n).toFixed(2); }

  function toggleCart(){
    document.getElementById('cartPanel').classList.toggle('active');
  }

  function addToCart(name, price){
    cart.push({name, price});
    total += price;
    updateCart();
    saveCart();
    // Open cart automatically
    document.getElementById('cartPanel').classList.add('active');
  }

  function removeFromCart(index){
    if(!cart[index]) return;
    total -= cart[index].price;
    cart.splice(index,1);
    updateCart();
    saveCart();
  }

  function updateCart(){
    const list = document.getElementById('cart-items');
    list.innerHTML = '';
    cart.forEach((item, i)=>{
      const row = document.createElement('div');
      row.className = 'cart-item';
      row.innerHTML = `
        <span class="cart-item-name">${item.name}</span>
        <span>$${format(item.price)}</span>
        <button class="remove-btn" onclick="removeFromCart(${i})" aria-label="Remove ${item.name}">‚ùå</button>
      `;
      list.appendChild(row);
    });
    document.getElementById('cart-total').textContent = format(total);
    document.getElementById('mpesa-total').textContent = format(total);
  }

  // ===== M-Pesa Modal (simulated) =====
  function openMpesaModal(){
    document.getElementById('mpesa-total').textContent = format(total);
    document.getElementById('mpesaModal').classList.add('open');
    document.getElementById('mpesaPhone').focus();
  }
  function closeMpesaModal(){
    document.getElementById('mpesaModal').classList.remove('open');
  }
  function simulateMpesa(){
    const input = document.getElementById('mpesaPhone');
    const phone = input.value.trim();
    const valid = /^0\d{9}$/.test(phone);
    if(!valid){
      alert('Enter a valid Kenyan phone number starting with 0 (e.g., 07XXXXXXXX).');
      input.focus();
      return;
    }
    if(total <= 0){
      alert('Your cart is empty.');
      return;
    }
    // Simulate success
    alert(`M-Pesa request sent to ${phone} for $${format(total)} (simulation).`);
    // Clear cart after "payment"
    cart = [];
    total = 0;
    updateCart();
    saveCart();
    closeMpesaModal();
    // Close the cart panel as well
    document.getElementById('cartPanel').classList.remove('active');
  }

  // Init render
  updateCart();

  // Close modal on backdrop click
  document.getElementById('mpesaModal').addEventListener('click', (e)=>{
    if(e.target.id === 'mpesaModal') closeMpesaModal();
  });
</script>
</body>
</html>
